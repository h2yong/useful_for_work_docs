# springcloud面试
## 什么是spring Cloud
spring cloud 是一系列框架的有序集合。它利用 spring boot 的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用 spring boot 的开发风格做到一键启动和部署

## 什么是微服务
微服务架构就是将单体的应用程序分成多个应用程序。  
微服务就是一个独立的职责单一的服务应用程序。具体就是使用springboot 开发的一个小的模块，处理单一专业的业务逻辑，一个模块只做一个事情。

优点:
1. 每个服务直接足够内聚，代码容易理解
2. 开发效率高，一个服务只做一件事，适合小团队开发
3. 松耦合，有功能意义的服务。
4. 可以用不同语言开发，面向接口编程。
5. 易于第三方集成
6. 微服务只是业务逻辑的代码，不会和HTML,CSS或其他界面结合.
7. 可以灵活搭配，连接公共库/连接独立库

缺点:
1. 分布式系统的责任性
2. 多服务运维难度加大。
3. 系统部署依赖
4. 服务间通信成本
5. 数据一致性
6. 系统集成测试
7. 性能监控

## Nginx与Ribbon的区别
Nginx是反向代理同时可以实现负载均衡，nginx拦截客户端请求采用负载均衡策略根据upstream配置进行转发，相当于请求通过nginx服务器进行转发。Ribbon是客户端负载均衡，从注册中心读取目标服务器信息，然后客户端采用轮询策略对服务直接访问，全程在客户端操作。

## SpringCloud由什么组成
| 组件                  | 举例                                 | 说明                                                                                                                                                                                                     |
| --------------------- | ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 服务注册与发现        | Spring Cloud Eureka/Consul/Zookeeper | Eureka就是一个服务中心，将所有的可以提供的服务都注册到它这里来管理，其它各调用者需要的时候去注册中心获取，然后再进行调用，避免了服务之间的直接调用，方便后续的水平扩展、故障转移等                       |
| 服务网关              | Zuul/Spring Cloud Gateway            | 网关相当于一个网络服务架构的入口，所有网络请求必须通过网关转发到具体的服务。 统一管理微服务请求，权限控制、负载均衡、路由转发、监控、安全控制黑名单和白名单等。nginx/zuul/spring cloud gateway都属于网关 |
| 客户端负载均衡        | Spring Cloud Ribbon                  |                                                                                                                                                                                                          |
| 声明性的Web服务客户端 | Spring Cloud Feign                   |                                                                                                                                                                                                          |
| 服务配置中心管理      | Spring Cloud Config/chef             | SpringCloud config实时刷新采用SpringCloud Bus消息总线                                                                                                                                                    |
| 事件消息总线          | Spring Cloud Bus                     | 用于在集群（例如，配置变化事件）中传播状态变化，可与Spring Cloud Config联合实现热部署                                                                                                                    |
| 批量任务              | Spring Cloud Task                    |                                                                                                                                                                                                          |
| 断路器                | Hystrix/Envoy/Sentinel/Resilience4j  |                                                                                                                                                                                                          |
| 服务调用              | Rest/RPC/gRPC                        |                                                                                                                                                                                                          |
| 全链路追踪            | Zipkin/Brave/Dapper/HTrace/Pinpoint  |                                                                                                                                                                                                          |
| 日志收集工具包        | Sleuth                               | 封装了Dapper,Zipkin和HTrace操作                                                                                                                                                                          |